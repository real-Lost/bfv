{"version":3,"sources":["FileInput.js","Show.js","Viewer.js","App.js","index.js"],"names":["FileInput","handleChangeFile","e","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","value","PapaParse","parse","complete","result","console","log","chunk","_this","props","onFileLoaded","data","name","_iterator","target","files","Symbol","iterator","next","done","err","return","react_default","a","createElement","style","backgroundColor","width","height","display","justifyContent","alignItems","className","id","type","accept","onChange","this","multiple","htmlFor","Component","tumblr_re","Gfycat","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","webmUrl","fetch","concat","url","pathname","then","r","json","setState","gfyItem","catch","error","autoPlay","loop","controls","src","Iframe","_this2","imgLoaded","loading","_this$props","title","restProps","objectWithoutProperties","assign","onLoad","frameBorder","scrolling","Img","_this3","imgErrored","alt","href","onError","objectFit","Strategy","_ref","host","slice","protocol","replace","test","Show_Img","Show_Gfycat","origin","match","searchParams","get","split","_url$pathname$match$s","_url$pathname$match$s2","slicedToArray","username","pic_id","src_base","toLowerCase","join","backgroundImage","map","ext","Show_Iframe","Show","_ref2","source","link","nextFunc","prevFunc","URL","swipe","defineSwipe","swipeDistance","window","scrollTo","lib","config","onSwipeLeft","onSwipeRight","key","Show_Strategy","rel","Viewer","createDropItems","content","keys","sort","contentType","index","reactstrap_es","onClick","select","handleKeys","ctrlKey","altKey","shiftKey","metaKey","video","document","querySelector","code","prev","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullScreen","webkitEnterFullScreen","bind","paused","play","pause","_this$state","pos","q","Math","min","length","max","toggle","dropdown","event","selected","innerText","currentType","shuffle","handleWindowSizeChange","isMobile","innerWidth","renderButtonDropDown","_this$state2","dropItems","fa","size","ButtonIconSize","color","isOpen","caret","renderButtonBar","_this$state3","vertical","disabled","types","assertThisInitialized","newTypes","addEventListener","removeEventListener","_this$state4","Show_Show","App","readFile","file","items","row","charAt","toUpperCase","substr","startsWith","includes","push","FileInput_FileInput","Viewer_Viewer","ReactDOM","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.ea574600.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./FileInput.css\";\r\nimport PapaParse from \"papaparse\";\r\n\r\nexport default class FileInput extends Component {\r\n\r\n   handleChangeFile = e => {\r\n    for (let value of e.target.files) {\r\n      PapaParse.parse(value, {\r\n        complete: (result) => {\r\n          // this.props.onFileLoaded(result.data, value.name);\r\n          console.log(\"done loading csv\");\r\n        },\r\n        chunk: (result) => {\r\n          this.props.onFileLoaded(result.data, value.name);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          backgroundColor: \"black\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <div className=\"file-input-container\">\r\n          <h1>BFV</h1>\r\n          <input\r\n            id=\"file-input\"\r\n            type=\"file\"\r\n            accept=\".csv\"\r\n            onChange={this.handleChangeFile}\r\n            multiple\r\n          />\r\n          <label htmlFor=\"file-input\">Choose a file</label>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./Show.css\";\r\nimport { Swipeable, defineSwipe } from 'react-touch';\r\n\r\nconst tumblr_re = /^\\d+?\\.media\\.tumblr\\.com$/;\r\n\r\nclass Gfycat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { webmUrl: null };\r\n    fetch(`https://api.gfycat.com/v1/gfycats${props.url.pathname}`)\r\n      .then(r => r.json())\r\n      .then(data => this.setState({ webmUrl: data.gfyItem.webmUrl }))\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  render() {\r\n    return <video autoPlay loop controls src={this.state.webmUrl} />;\r\n  }\r\n}\r\n\r\nclass Iframe extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loading: true };\r\n  }\r\n\r\n  imgLoaded = () => this.setState({ loading: false });\r\n\r\n  render() {\r\n    const { src, title, ...restProps } = this.props;\r\n    return (\r\n      <iframe\r\n        className={this.state.loading ? \"iframe-loading\" : \"\"}\r\n        onLoad={this.imgLoaded}\r\n        title={title}\r\n        src={src}\r\n        frameBorder=\"0\"\r\n        scrolling=\"no\"\r\n        {...restProps}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nclass Img extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loading: true, error: false };\r\n  }\r\n\r\n  imgLoaded = () => this.setState({ loading: false });\r\n\r\n  imgErrored = () => this.setState({ loading: false, error: true });\r\n\r\n  render() {\r\n    const className = this.state.loading\r\n      ? \"loading\"\r\n      : this.state.error\r\n      ? \"error\"\r\n      : \"\";\r\n    return (\r\n      <img\r\n        className={className}\r\n        alt=\"\"\r\n        src={this.props.url.href}\r\n        onLoad={this.imgLoaded}\r\n        onError={this.imgErrored}\r\n        style={{ objectFit: \"contain\" }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst Strategy = ({ url }) => {\r\n  let title, src;\r\n  switch (true) {\r\n    case url.host === \"i.imgur.com\":\r\n      if (url.pathname.slice(0, 3) === \"/a/\") {\r\n        title = \"imgur\";\r\n        src =\r\n          url.protocol +\r\n          \"//imgur.com\" +\r\n          url.pathname.replace(\".jpg\", \"\") +\r\n          \"/embed?pub=true\";\r\n        break;\r\n      }\r\n    // eslint-disable-next-line -- FALLTHROUGH\r\n    case tumblr_re.test(url.host):\r\n      return <Img url={url} />;\r\n    case url.host === \"gfycat.com\":\r\n      return <Gfycat url={url} />;\r\n    case url.host === \"www.xvideos.com\":\r\n      title = \"xvideos\";\r\n      src =\r\n        url.origin + \"/embedframe/\" + url.pathname.match(/\\/video(\\d+)\\//)[1];\r\n      break;\r\n    case url.host === \"www.pornhub.com\":\r\n      title = \"pornhub\";\r\n      src = url.origin + \"/embed/\" + url.searchParams.get(\"viewkey\");\r\n      break;\r\n    case url.host === \"xhamster.com\":\r\n      title = \"xhamster\";\r\n      src = url.origin + \"/embed/\" + url.pathname.split(\"/\")[2];\r\n      break;\r\n    case url.host === \"www.hentai-foundry.com\":\r\n      const [username, pic_id] = url.pathname\r\n        .match(/^\\/pictures\\/user\\/(.*)\\/(.*)\\//)\r\n        .slice(1);\r\n      const src_base = [\r\n        \"https://pictures.hentai-foundry.com\",\r\n        username[0].toLowerCase(),\r\n        username,\r\n        pic_id\r\n      ].join(\"/\");\r\n      return (\r\n        <div\r\n          className=\"img\"\r\n          style={{\r\n            backgroundImage: [\"png\", \"jpg\"]\r\n              .map(ext => `url(${src_base}.${ext})`)\r\n              .join(\",\")\r\n          }}\r\n        />\r\n      );\r\n    default:\r\n      title = \"default\";\r\n      src = url.href;\r\n  }\r\n  return <Iframe src={src} title={title} />;\r\n};\r\n\r\nexport default function Show({ link: source, style, nextFunc, prevFunc}) {\r\n  const url = new URL(source);\r\n  const swipe = defineSwipe({swipeDistance: 50});\r\n  window.scrollTo(0, 0);\r\n  return (\r\n    <Swipeable config={swipe} onSwipeLeft={nextFunc} onSwipeRight={prevFunc}>\r\n      <div key={source} className=\"item-container\" style={style}>\r\n        <Strategy url={url} />\r\n          <div className=\"bottom-bar\">\r\n            <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"source-button\">Source</a>\r\n          </div>\r\n      </div>\r\n    </Swipeable>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Show from \"./Show\";\r\nimport \"./Viewer.css\";\r\nimport shuffle from \"lodash/shuffle\";\r\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem, ButtonGroup } from \"reactstrap\";\r\nimport { FaCaretLeft, FaCaretRight, FaStarOfLife } from \"react-icons/fa\";\r\n\r\n\r\nexport default class Viewer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    const { content } = this.props;\r\n\r\n\r\n    const types = Object.keys(content).sort();\r\n    this.state = {\r\n      currentType: types[0],\r\n      types: types,\r\n      q: shuffle(content[types[0]]),\r\n      pos: 0,\r\n      dropdown: false,\r\n      isMobile: window.innerWidth <= 600,\r\n      dropItems: this.createDropItems(),\r\n      ButtonIconSize: 40 \r\n    };\r\n\r\n    this.next = this.next.bind(this);\r\n    this.prev = this.prev.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { content } = this.props;\r\n    let newTypes = Object.keys(content).sort();\r\n    if (this.state.types.length !== newTypes.length) {\r\n      this.setState({\r\n        types: newTypes,\r\n        currentType: newTypes[0],\r\n        q: shuffle(content[newTypes[0]]),\r\n        dropItems: this.createDropItems()\r\n      })\r\n    }\r\n  }\r\n\r\n  createDropItems = () => {\r\n    const { content } = this.props\r\n    return Object.keys(content).sort().map((contentType, index) => {\r\n      return (<DropdownItem key={index} onClick={this.select}>{contentType}</DropdownItem>)\r\n    })\r\n  }\r\n\r\n  componentDidMount(){\r\n    window.addEventListener('keydown', this.handleKeys);\r\n    window.addEventListener('resize', this.handleWindowSizeChange);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeys);\r\n    window.removeEventListener('resize', this.handleWindowSizeChange);\r\n  }\r\n\r\n  handleKeys = e => {\r\n    if (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) {\r\n      return;\r\n    }\r\n    const video = document.querySelector(\".item-container > video\");\r\n\r\n    switch (e.code) {\r\n      case \"ArrowLeft\":\r\n      case \"KeyA\":\r\n        return this.prev();\r\n      case \"ArrowRight\":\r\n      case \"KeyD\":\r\n        return this.next();\r\n      case \"KeyF\":\r\n        if (video) {\r\n          (\r\n            video.requestFullscreen ||\r\n            video.webkitRequestFullScreen ||\r\n            video.mozRequestFullScreen ||\r\n            video.msRequestFullScreen ||\r\n            video.webkitEnterFullScreen ||\r\n            (() => null)\r\n          ).bind(video)();\r\n        }\r\n        return;\r\n      case \"Space\":\r\n        if (video) {\r\n          if (video.paused) {\r\n            video.play();\r\n          } else {\r\n            video.pause();\r\n          }\r\n        }\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  next = () => {\r\n   const { pos, q } = this.state\r\n    this.setState({\r\n      pos: Math.min(pos + 1, q.length - 1)\r\n    });\r\n  };\r\n\r\n  prev = () => {\r\n    const { pos } = this.state;\r\n    this.setState({ pos: Math.max(pos - 1, 0) });\r\n  };\r\n\r\n\r\n  toggle = () => {\r\n    this.setState({ dropdown: !this.state.dropdown });\r\n  }\r\n\r\n  select = (event) => {\r\n    const selected = event.target.innerText\r\n    this.setState({\r\n        currentType: selected,\r\n        q: shuffle(this.props.content[selected]),\r\n        pos: 0\r\n    })\r\n  }\r\n\r\n  handleWindowSizeChange = () => {\r\n    this.setState({ \r\n      isMobile: window.innerWidth <= 600\r\n    });\r\n  }\r\n\r\n  renderButtonDropDown = () => {\r\n    const { dropdown, currentType, dropItems, isMobile } = this.state;\r\n    let toggle = isMobile ? <FaStarOfLife size={this.state.ButtonIconSize} color='#f8f9fa'/> : currentType\r\n    return (\r\n      <ButtonDropdown className=\"dropdown-selector\" isOpen={dropdown} toggle={this.toggle}>\r\n        <DropdownToggle color=\"black\" caret={!isMobile}>\r\n          {toggle}\r\n        </DropdownToggle>\r\n        <DropdownMenu>\r\n          {dropItems}\r\n        </DropdownMenu>\r\n      </ButtonDropdown>)\r\n    }\r\n\r\n  renderButtonBar = () => {\r\n    const { q, pos, isMobile } = this.state;\r\n    return <ButtonGroup vertical={isMobile} className=\"button-container\">\r\n      <button disabled={pos === 0} onClick={this.prev}>\r\n        <FaCaretLeft size={this.state.ButtonIconSize} color='#f8f9fa'/>\r\n      </button>\r\n      { this.renderButtonDropDown() }\r\n      <button disabled={pos === q.length - 1} onClick={this.next}>\r\n        <FaCaretRight size={this.state.ButtonIconSize} color='#f8f9fa'/>\r\n      </button>\r\n    </ButtonGroup>\r\n  }\r\n\r\n  render() {\r\n    const { pos, q } = this.state;\r\n\r\n    return (\r\n      <div className=\"viewer-container\">\r\n        { this.renderButtonBar() }\r\n        <Show link={q[pos]} nextFunc={this.next} prevFunc={this.prev}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport FileInput from \"./FileInput\";\r\nimport Viewer from \"./Viewer\";\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = { \r\n      content: null\r\n    };\r\n  }\r\n\r\n  readFile = (file) => {\r\n    const { content } = this.state\r\n    let items = (content === null ? {} : content)\r\n    let types = []\r\n    for (let row of file) {\r\n        let type = row[0]\r\n        type = type.charAt(0).toUpperCase() + type.substr(1)\r\n        let url = row[1]\r\n        if (typeof url === \"undefined\" || !url.startsWith(\"http\")) {\r\n            continue\r\n        }\r\n        if (!types.includes(type)) {\r\n            items[type] = []\r\n            types.push(type)\r\n        }\r\n        items[type].push(url)\r\n    }\r\n\r\n    this.setState({\r\n        content: items,\r\n    })\r\n}\r\n\r\n  render() {\r\n    const { content } = this.state\r\n    if (content === null) {\r\n      return <FileInput onFileLoaded={this.readFile} />;\r\n    }\r\n    return <Viewer content={content} />;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}